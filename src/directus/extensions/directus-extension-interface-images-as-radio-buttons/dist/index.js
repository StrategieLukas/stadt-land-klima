import{computed as e,nextTick as n,resolveComponent as a,resolveDirective as o,openBlock as t,createBlock as c,withCtx as i,createTextVNode as r,createElementBlock as d,normalizeStyle as l,createElementVNode as s,Fragment as u,renderList as v,normalizeClass as h,withDirectives as p,renderSlot as b,toDisplayString as f}from"vue";var g=[],m=[];!function(e,n){if(e&&"undefined"!=typeof document){var a,o=!0===n.prepend?"prepend":"append",t=!0===n.singleTag,c="string"==typeof n.container?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(t){var i=g.indexOf(c);-1===i&&(i=g.push(c)-1,m[i]={}),a=m[i]&&m[i][o]?m[i][o]:m[i][o]=r()}else a=r();65279===e.charCodeAt(0)&&(e=e.substring(1)),a.styleSheet?a.styleSheet.cssText+=e:a.appendChild(document.createTextNode(e))}function r(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),n.attributes)for(var a=Object.keys(n.attributes),t=0;t<a.length;t++)e.setAttribute(a[t],n.attributes[a[t]]);var i="prepend"===o?"afterbegin":"beforeend";return c.insertAdjacentElement(i,e),e}}('.radio-icon-buttons[data-v-ad4c6cc3] {\n  display: grid;\n  grid-gap: 12px 12px;\n  grid-template-columns: repeat(var(--columns, 6), 1fr);\n  /* force 3 columns on mobile regardless of inline var */\n}\n@media (max-width: 600px) {\n  .radio-icon-buttons[data-v-ad4c6cc3] {\n    grid-template-columns: repeat(3, 1fr) !important;\n  }\n}\n\n.v-icon-radio[data-v-ad4c6cc3] {\n  display: flex;\n  font-size: 0;\n  text-align: center;\n  background-color: transparent;\n  border: none;\n  border-radius: 0;\n  appearance: none;\n}\n.v-icon-radio .v-icon[data-v-ad4c6cc3] {\n  --v-icon-color: var(--theme--foreground-subdued);\n}\n.v-icon-radio .v-icon svg[data-v-ad4c6cc3] {\n  width: 100%;\n  height: 100%;\n  fill: var(--theme--foreground-subdued);\n}\n.v-icon-radio > .v-icon[data-v-ad4c6cc3] {\n  position: absolute;\n  display: none;\n}\n.v-icon-radio .label[data-v-ad4c6cc3] {\n  display: block;\n  width: 100%;\n}\n.v-icon-radio .label .v-icon[data-v-ad4c6cc3] {\n  display: block;\n  margin: 0 auto 3px;\n  width: 42px;\n  height: 42px;\n  border: 2px solid transparent;\n  border-radius: 50%;\n  padding: 7px;\n}\n.v-icon-radio:not(.checked) .label .v-icon[data-v-ad4c6cc3] {\n  border-color: transparent;\n}\n.v-icon-radio:disabled[data-v-ad4c6cc3] {\n  cursor: not-allowed;\n}\n.v-icon-radio:disabled .label[data-v-ad4c6cc3] {\n  color: var(--theme--foreground-subdued);\n}\n.v-icon-radio:disabled .v-icon[data-v-ad4c6cc3] {\n  --v-icon-color: var(--theme--foreground-subdued);\n}\n.v-icon-radio.block[data-v-ad4c6cc3] {\n  position: relative;\n  width: 100%;\n  height: auto;\n  padding: 10px;\n  border: 2px solid var(--border-normal);\n  border-radius: var(--theme--border-radius);\n}\n.v-icon-radio.block[data-v-ad4c6cc3]:hover {\n  border-color: var(--border-normal-alt);\n}\n.v-icon-radio.block[data-v-ad4c6cc3]::before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: var(--background-subdued);\n  border-radius: var(--theme--border-radius);\n  content: "";\n}\n.v-icon-radio.block .label[data-v-ad4c6cc3] {\n  z-index: 1;\n}\n.v-icon-radio:not(:disabled):hover .v-icon[data-v-ad4c6cc3] {\n  --v-icon-color: var(--theme--foreground-subdued);\n}\n.v-icon-radio:not(:disabled).checked .v-icon[data-v-ad4c6cc3] {\n  --v-icon-color: var(--theme--primary);\n}\n.v-icon-radio:not(:disabled).checked .v-icon svg[data-v-ad4c6cc3] {\n  fill: var(--theme--primary);\n}\n.v-icon-radio:not(:disabled).checked.block[data-v-ad4c6cc3] {\n  border-color: var(--theme--primary);\n}\n.v-icon-radio:not(:disabled).checked.block .label[data-v-ad4c6cc3] {\n  color: var(--theme--primary);\n}\n.v-icon-radio:not(:disabled).checked.block[data-v-ad4c6cc3]::before {\n  background-color: var(--theme--primary);\n  opacity: 0.1;\n}\n\n.v-icon-radio.checked.rating-0[data-v-ad4c6cc3] {\n  background-color: #fad3d0;\n}\n\n.v-icon-radio.checked.rating-1[data-v-ad4c6cc3] {\n  background-color: #fbdeb2;\n}\n\n.v-icon-radio.checked.rating-2[data-v-ad4c6cc3] {\n  background-color: #fffce3;\n}\n\n.v-icon-radio.checked.rating-3[data-v-ad4c6cc3] {\n  background-color: #f6f9e3;\n}\n\n.v-icon-radio.checked.rating-4[data-v-ad4c6cc3] {\n  background-color: #ebf7ef;\n}\n\n.v-icon-radio.checked.rating-na[data-v-ad4c6cc3] {\n  background-color: #8C7873;\n}',{});var k=(e,n)=>{const a=e.__vccOpts||e;for(const[e,o]of n)a[e]=o;return a};const y={inject:["api"],props:{field:String,collection:String,value:String,disabled:{type:Boolean,default:!1},choices:{type:Array,default:null},width:{type:String,default:null}},emits:["input","setFieldValue"],setup:n=>({containerStyle:e((()=>({"--v-radio-color":"var(--theme--primary)","--columns":n.choices?.length||1})))}),mounted(){console.log(`BatchMode: ${this.batchMode??"N/A"}`),console.log("Choices:"),console.log(this.choices),this.choices&&this.choices.length&&console.log("Number of choices: ",this.choices.length)},methods:{selectOption(e,a){a==this.field&&(this.$emit("input",e),n().then((()=>{this.$emit("setFieldValue",{field:"status",value:null==e?"draft":"published"})})))},isChecked:(e,n)=>e==n,renderImage(e,n=(new Date).toISOString()){if(null===e)return;const{addTokenToURL:a}=function(e){return{addQueryToPath:n,getToken:a,addTokenToURL:function(e){const o=a();return o?n(e,{access_token:o}):e}};function n(e,n){const a=[];for(const[e,o]of Object.entries(n))a.push(`${e}=${o}`);return e.includes("?")?`${e}&${a.join("&")}`:`${e}?${a.join("&")}`}function a(){return e.defaults?.headers?.Authorization?.split(" ")[1]||e.defaults?.headers?.common?.Authorization?.split(" ")[1]||null}}(this.api);return a(`/assets/${e}?width=42&height=42&fit=cover&cache-buster=${n}`)},handleChange(e,n){n==this.field&&(console.log("handleChange:"),this.$emit("input",e))},valueToClass(e){switch(""===e||null==e?null:Number(e)){case 0:return"rating-0";case.25:return"rating-1";case.5:return"rating-2";case.75:return"rating-3";case 1:return"rating-4";default:return"rating-na"}}}},x=["value","field","collection"],w=["aria-pressed","disabled","onClick"],C={class:"label type-text"},T=["innerHTML"];var $={id:"icon-radio",name:"Icon Button Group",type:"interface",description:"Radio selction group with icon buttons",icon:"view_carousel",component:k(y,[["render",function(e,n,g,m,k,y){const $=a("v-notice"),S=o("-if");return g.choices?(t(),d("div",{key:1,class:"radio-icon-buttons",style:l(m.containerStyle)},[s("input",{value:g.value,field:g.field,collection:g.collection,type:"hidden",onInput:n[0]||(n[0]=e=>y.handleChange(e.target.value,g.field))},null,40,x),(t(!0),d(u,null,v(g.choices,(n=>(t(),d("button",{key:n.value,class:h(["v-icon-radio block",[{checked:y.isChecked(g.value,n.value),block:e.block},y.valueToClass(n.value)]]),type:"button","aria-pressed":y.isChecked(g.value,n.value)?"true":"false",disabled:g.disabled,onClick:e=>y.selectOption(n.value,g.field)},[s("span",C,[p(s("span",{class:"v-icon",innerHTML:n.svg_icon},null,8,T),[[S,n.svg_icon]]),b(e.$slots,"label",{},(()=>[r(f(n.text),1)]),!0)])],10,w)))),128))],4)):(t(),c($,{key:0,type:"warning"},{default:i((()=>n[1]||(n[1]=[r("No choices configured")]))),_:1}))}],["__scopeId","data-v-ad4c6cc3"],["__file","interface.vue"]]),types:["string"],recommendedDisplays:["badge"],options:[{field:"choices",type:"json",name:"Choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"Text",meta:{width:"half",interface:"system-input-translated-string",required:!0}},{field:"value",type:"string",name:"Value",meta:{width:"half",interface:"input",required:!0,options:{font:"monospace"}}},{field:"svg_icon",type:"text",name:"SVG Icon",meta:{width:"half",interface:"code"}}]}}}]};export{$ as default};
